<core:FragmentDefinition
        xmlns:core="sap.ui.core"
        xmlns="sap.m"
        xmlns:l="sap.ui.layout"
        displayBlock="true">
    <Dialog title="{i18n>tt_reportStatistics}">
        <buttons>
            <Button class="closebtn"
                    icon="sap-icon://undo"
                    press="back__"/>
        </buttons>
        <content>
            <VBox justifyContent="SpaceBetween"
                  class="sapUiMarginBeginEnd"
                  alignContent="Center">
                <HBox class="sapUiTinyMarginBeginEnd"
                      width="100%"
                      wrap="NoWrap"
                      justifyContent="SpaceAround">
                    <items>
                        <VBox width="{= ${device>/system/phone} ? '80%' : '200px' }">
                            <Label class="sapUiTinyMarginTop" text="{i18n>lbl_slocNumber}"/>
                            <SearchField
                                    enabled="false"
                                    showRefreshButton="false"
                                    search="onGetMLSX"
                                    id="inp_MLSX__"
                                    value="{globalProperties_>/Wempf}"
                                    width="{= ${device>/system/phone} ? '150px' : '200px' }"/>
                        </VBox>

                        <VBox width="{= ${device>/system/phone} ? '80%' : '200px' }">
                            <Label class="sapUiTinyMarginTop" text="{i18n>lbl_portion}"/>
                            <TextArea design="Bold"
                                      growingMaxLines="3"
                                      id="inp_SPTL__"
                                      value="{globalProperties_>/Ferth}"
                                      editable="false"
                                      width="{= ${device>/system/phone} ? '80%' : '200px' }"/>
                        </VBox>
                        <VBox width="{= ${device>/system/phone} ? '80%' : '200px' }">
                            <Label class="sapUiTinyMarginTop" text="{i18n>lbl_resource}"/>
                            <Label design="Bold" text="{globalProperties>/Arbpl}"
                                   width="{= ${device>/system/phone} ? '80%' : '200px'  }"/>
                            <Label design="Bold"
                                   text="{globalProperties_>/Ktext}"
                                   width="{= ${device>/system/phone} ? '80%' : '200px'  }"/>
                        </VBox>
                    </items>
                </HBox>
            </VBox>
            <VBox justifyContent="SpaceBetween" class="sapUiMarginBeginEnd" alignContent="Center">
            </VBox>
            <Table
                    noDataText="{i18n>lblNoData}" alternateRowColors="true"
                    growingScrollToLoad="true" modeAnimationOn="true" growing="true"
                    id="tb_OEEReportDetail"
                    inset="{= !${device>/system/phone} }"
                    items="{ path: 'OEEReportDetail>/results',
                             sorter: {
                              path: 'Frdat'
                             }
                           }">
                <columns>
                    <Column width="6rem" hAlign="Center" demandPopin="true"
                            popinDisplay="Inline">
                        <Label text="{i18n>col_From}"/>
                    </Column>
                    <Column width="6rem" hAlign="Center" demandPopin="true" popinDisplay="Inline">
                        <Label text=""/>
                    </Column>
                    <Column width="100px" hAlign="Center" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_To}"/>
                    </Column>
                    <Column width="70px" hAlign="Center" demandPopin="true" popinDisplay="Inline">
                        <Label text=""/>
                    </Column>
                    <Column width="100px" hAlign="Center" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_Total}"/>
                    </Column>
                    <Column width="100px" hAlign="Center" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_Ca}"/>
                    </Column>
                    <Column width="200px" hAlign="Left" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_Sukien}"/>
                    </Column>
                    <Column width="200px" hAlign="Left" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_Notes}"/>
                    </Column>
                    <Column width="200px" hAlign="Left" demandPopin="true" popinDisplay="Inline">
                        <Label text="{i18n>col_Material}"/>
                    </Column>
                    <Column width="50px" hAlign="Left" demandPopin="false" popinDisplay="Inline">
                    </Column>
                    <Column width="50px" hAlign="Left" demandPopin="false" popinDisplay="Inline">
                    </Column>
                </columns>
                <items>
                    <ColumnListItem class="sapUiTinyMarginBeginEnd">
                        <cells>
                            <l:HorizontalLayout>
                                <!--                            View mode-->
                                <Text visible="{= !${OEEReportDetail>isEditing} }"
                                      text="{ path: 'OEEReportDetail>Frdat', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }}"/>
                                <!--                            Edit Mode-->
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }"
                                      text="{ path: 'OEEReportDetail>Frtim', type: 'sap.ui.model.odata.type.Time', formatOptions: { pattern: 'HH:mm:ss' }}"/>
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }"
                                      text="{ path: 'OEEReportDetail>Todat', type: 'sap.ui.model.type.Date', formatOptions: { pattern: 'dd/MM/yyyy' }}"/>
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }"
                                      text="{ path: 'OEEReportDetail>Totim', type: 'sap.ui.model.odata.type.Time', formatOptions: { pattern: 'HH:mm:ss' }}"/>
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }" text="{OEEReportDetail>Total}"/>
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }" text="{OEEReportDetail>Shift}"/>
                            </l:HorizontalLayout>
                            <!--<Text text="{OEEReportDetail>Ktext}"/>-->
                            <Select enabled="{OEEReportDetail>isEditing}"
                                    forceSelection="false"
                                    selectedItem="{Atzhl}"
                                    selectedKey="{OEEReportDetail>Atwtb}"
                                    items="{ path: '/SUKIENOEESet'}">
                                <items>
                                    <core:Item key="{Atnam}{Atzhl}" text="{Atwtb}"/>
                                </items>
                            </Select>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }" text="{OEEReportDetail>Notes}"/>

                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Text visible="{= !${OEEReportDetail>isEditing} }" text="{OEEReportDetail>Material}"/>
                                <!--                            //Edit mode-->

                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Button visible="{OEEReportDetail>isEditing}"
                                        press="onSavePressed"
                                        type="Transparent" icon="sap-icon://save"/>
                                <Button visible="{= !${OEEReportDetail>isEditing} }"
                                        press="onEditPressed"
                                        type="Transparent" icon="sap-icon://edit"/>
                            </l:HorizontalLayout>
                            <l:HorizontalLayout>
                                <Button visible="{OEEReportDetail>isEditing}"
                                        press="onCancelPressed"
                                        type="Transparent" icon="sap-icon://cancel"/>
                                <Button visible="{= !${OEEReportDetail>isEditing} }"
                                        press="onDeletePressed"
                                        type="Transparent" icon="sap-icon://delete"/>
                            </l:HorizontalLayout>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
        </content>
    </Dialog>
</core:FragmentDefinition>
